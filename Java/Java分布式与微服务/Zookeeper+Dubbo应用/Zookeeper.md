[TOC]



## Zookeeper 初始

### 为什么需要Zookeeper?

我们需要一个用起来像单机但是又比单机更可靠的东西。

### Zookeeper

* 分布式应用程序的分布式**协调服务**
* 不因为某一个节点宕机而不可用

### Zookeeper的特点与作用

**5大特点**

* 顺序一致性

   Zookeeper分为客户端和服务端，客户端以什么顺序发送消息，服务端就会以什么样的顺序接收到消息

* 原子性

  要么全部成功或全部失败

* 单一系统映像

  不管连接到哪一个Zookkeeper服务器，他对外提供的数据都是一致的。

* 可靠性

  请求写入的数据会一直保存，不会发生改变，直到有下一个请求将这个数据修改为止

* 及时性

  一定的时间内，客户端可以从服务器中读取最新的数据

**作用场景**

* 分布式锁
* 配置中心
* 服务注册与发现
* 分布式唯一ID



## Zookeeper安装

### windows:

官网下载好后 conf下的zoo_sample.cfg复制一份为zoo.cfg

bin文件下执行zkServer.cmd



## Zookeeper的使用

### znode节点

**节点特点**

* 可以存储数据，但信息尽量简介
* 树形接哦古，有父子节点
* 有版本号的概念，可以用来防止误操作
* 可以设定监听器，感知变化。

**节点类型**

* 持久节点
* 临时节点
* 顺序节点
* 可以组合，顺序节点能和持久与临时组合。